@model Projet2.ViewModels.HomeViewModel


@Html.ActionLink("Retour", "Commandes", "CompteAdA", Model.AdA)

<div class="container mt-5 p-3 rounded cart">
    <div class="row no-gutters">
        <div class="col-md-12">
            <div class="product-details mr-2">


                @foreach (Projet2.Models.Boutique.LignePanierBoutique ligne in Model.PanierBoutique.LignePanierBoutiques)
                {

                    var prixTTC = Decimal.Round(ligne.Article.PrixTTC, 2);
                    var SousTotal = Decimal.Round(ligne.SousTotal, 2);

                    <form>

                        <div class="card mb-3">
                            <div class="card-body">
                                <div class="d-flex justify-content-between ">
                                    <div class="d-flex flex-row align-items-center p-2">
                                        <div>
                                            <img src="~/ImageArticle/@ligne.Article.Image"
                                                 class="img-fluid rounded-3" alt="Shopping item" style="width: 65px;">
                                        </div>
                                        <div class="ms-3">
                                            <h5>@ligne.Article.Nom</h5>
                                            <p class="small mb-0">@ligne.Article.Description</p>
                                        </div>
                                    </div>
                                    <div class="d-flex flex-col align-items-center m-2">
                                        <div style="max-width: 10rem">
                                            Quantité = @ligne.Quantite
                                            <h5 class="mb-0"> <br/> € @SousTotal</h5>
                                            @if (@Model.Commande.EstLivre)
                                        {
                                            @if(@ligne.AvisId == null)
                                                    {
                                                    <p align="center">@Html.ActionLink("Donner votre avis", "ArticleAvis", "Boutique", @ligne)</p>
                                                    }
                                                    @if(@ligne.AvisId != null)
                                                    {
                                                    <p class="card-text">Votre Avis : @ligne.Avis.Text</p>
                                                    <p class="card-text">Votre Note : @ligne.Avis.Note </p>                                                    
                                                    }                                            
                                        }       
                                        </div>                                      
                                    </div>
                                </div>
                            </div>
                        </div>


                    </form>

                }

            </div>
            <hr>

            <label for="Total">Total = @Decimal.Round(Model.PanierBoutique.Total, 2) €</label>
            <hr>


        </div>
    </div>
</div>